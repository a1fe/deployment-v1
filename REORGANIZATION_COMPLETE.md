# ‚úÖ –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ deployment/

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞

–£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:
- –í—Å–µ –æ–±—â–∏–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `deployment/common/`
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è CPU-—Å–µ—Ä–≤–µ—Ä–∞ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ `deployment/cpu-server/`
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è GPU-—Å–µ—Ä–≤–µ—Ä–∞ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ `deployment/gpu-server/`

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ deployment/common/ (–æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `architecture_config.py`, `main.py`, `.env.example`
- **–°–∫—Ä–∏–ø—Ç—ã**: `start_celery.sh`, `install.sh`, `check_dependencies.sh`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `requirements.txt`
- **–ú–æ–¥—É–ª–∏**:
  - `celery_app/` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Celery
  - `database/` - –º–æ–¥–µ–ª–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
  - `models/` - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
  - `tasks/` - –∑–∞–¥–∞—á–∏ Celery
  - `utils/` - —É—Ç–∏–ª–∏—Ç—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —Å–µ–∫—Ä–µ—Ç—ã)
  - `scripts/` - —Å–∫—Ä–∏–ø—Ç—ã (health check, backup)

### ‚úÖ deployment/cpu-server/ (CPU-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ)
- `cpu_server_config.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CPU —Å–µ—Ä–≤–µ—Ä–∞
- `start_cpu_celery.sh` - –∑–∞–ø—É—Å–∫ CPU –≤–æ—Ä–∫–µ—Ä–æ–≤
- `start_cpu_server.sh` - –∑–∞–ø—É—Å–∫ CPU —Å–µ—Ä–≤–µ—Ä–∞

### ‚úÖ deployment/gpu-server/ (GPU-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ)
- `gpu_server_config.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GPU —Å–µ—Ä–≤–µ—Ä–∞
- `start_gpu_celery.sh` - –∑–∞–ø—É—Å–∫ GPU –≤–æ—Ä–∫–µ—Ä–æ–≤
- `startup_gpu_server.sh` - –∑–∞–ø—É—Å–∫ GPU —Å–µ—Ä–≤–µ—Ä–∞

## üöÄ –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞

–°–æ–∑–¥–∞–Ω—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

### CPU —Å–µ—Ä–≤–µ—Ä
```bash
./deployment/start_cpu_deployment.sh
```

### GPU —Å–µ—Ä–≤–µ—Ä
```bash
./deployment/start_gpu_deployment.sh
```

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Celery —Å–∫—Ä–∏–ø—Ç
- `deployment/common/start_celery.sh` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `--server-type`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `GPU_INSTANCE_NAME`
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–µ–π:
  - **CPU —Å–µ—Ä–≤–µ—Ä**: `search_basic`, `fillout`, `default`, `notifications`, fallback –æ—á–µ—Ä–µ–¥–∏
  - **GPU —Å–µ—Ä–≤–µ—Ä**: `embeddings_gpu`, `scoring_gpu`, `ai_analysis`

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –≤ `deployment/common/main.py`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ `initialize_company_base_data`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ PYTHONPATH –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `DEPLOYMENT_GUIDE.md` –æ–±–Ω–æ–≤–ª–µ–Ω —Å —É—á–µ—Ç–æ–º –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –°–æ–∑–¥–∞–Ω `STRUCTURE_README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç–∞–º –∏ –º–æ–¥—É–ª—è–º

### 4. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:
- `deployment/*.sh` - –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ
- `deployment/common/*.sh` - –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ
- `deployment/*/server/*.sh` - –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ
- `deployment/common/scripts/*` - –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ

## üìã –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

### ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
- [x] –í—Å–µ –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `common/`
- [x] CPU-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –≤ `cpu-server/`
- [x] GPU-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –≤ `gpu-server/`
- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞

### ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –≤ Python –º–æ–¥—É–ª—è—Ö
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã PYTHONPATH

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –û–±–Ω–æ–≤–ª–µ–Ω DEPLOYMENT_GUIDE.md
- [x] –°–æ–∑–¥–∞–Ω STRUCTURE_README.md
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- [x] –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- [x] Python —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞ —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

1. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:
   - –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
   - CPU/GPU —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞
   - –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

2. **–£–¥–æ–±—Å—Ç–≤–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**:
   - –ï–¥–∏–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–µ—Ä–≤–µ—Ä–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**:
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –≤ `common/utils/`
   - –ï–¥–∏–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `common/scripts/`
   - –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

4. **Production-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**:
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - Health checks –∏ backup –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- Production –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é CPU/GPU –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤ —Ä–∞–º–∫–∞—Ö —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
